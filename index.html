<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Claude Terminal</title>
  <link rel="stylesheet" href="node_modules/@xterm/xterm/css/xterm.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Title Bar -->
  <div class="titlebar">
    <div class="titlebar-drag">
      <div class="titlebar-icon">
        <img src="assets/icon.ico" alt="Claude Terminal" draggable="false">
      </div>
      <span class="titlebar-title">Claude Terminal</span>
    </div>
    <!-- Usage Display -->
    <div class="titlebar-usage" id="titlebar-usage" data-i18n-title="common.refresh">
      <div class="usage-item" data-type="session">
        <span class="usage-label" data-i18n="ui.session">Session</span>
        <div class="usage-bar-container">
          <div class="usage-bar" id="usage-bar-session" style="width: 0%"></div>
        </div>
        <span class="usage-percent" id="usage-percent-session">--%</span>
      </div>
      <div class="usage-item" data-type="weekly">
        <span class="usage-label" data-i18n="ui.weekly">Weekly</span>
        <div class="usage-bar-container">
          <div class="usage-bar" id="usage-bar-weekly" style="width: 0%"></div>
        </div>
        <span class="usage-percent" id="usage-percent-weekly">--%</span>
      </div>
      <div class="usage-item" data-type="sonnet">
        <span class="usage-label">Sonnet</span>
        <div class="usage-bar-container">
          <div class="usage-bar" id="usage-bar-sonnet" style="width: 0%"></div>
        </div>
        <span class="usage-percent" id="usage-percent-sonnet">--%</span>
      </div>
    </div>
    <!-- Time Tracking Display -->
    <div class="titlebar-time" id="titlebar-time" data-i18n-title="ui.workTime">
      <svg class="time-icon" viewBox="0 0 24 24" fill="currentColor" width="14" height="14">
        <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
      </svg>
      <div class="time-item" data-period="today">
        <span class="time-label" data-i18n="common.today">Today</span>
        <span class="time-value" id="time-today">0h</span>
      </div>
      <div class="time-item" data-period="week">
        <span class="time-label" data-i18n="timetracking.week">Week</span>
        <span class="time-value" id="time-week">0h</span>
      </div>
      <div class="time-item" data-period="month">
        <span class="time-label" data-i18n="timetracking.month">Month</span>
        <span class="time-value" id="time-month">0h</span>
      </div>
    </div>
    <div class="titlebar-controls">
      <button class="titlebar-btn" id="btn-minimize">
        <svg viewBox="0 0 12 12"><rect y="5" width="12" height="2" fill="currentColor"/></svg>
      </button>
      <button class="titlebar-btn" id="btn-maximize">
        <svg viewBox="0 0 12 12"><rect x="1" y="1" width="10" height="10" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
      </button>
      <button class="titlebar-btn btn-close" id="btn-close">
        <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
      </button>
    </div>
  </div>

  <!-- Update Banner (GitHub Desktop style) -->
  <div class="update-banner" id="update-banner" style="display: none;">
    <div class="update-banner-content">
      <svg class="update-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.5-9.12 0-12.6 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12z"/>
      </svg>
      <span class="update-message" id="update-message" data-i18n="ui.newVersion">Une nouvelle version est disponible</span>
      <div class="update-progress-container" id="update-progress-container" style="display: none;">
        <div class="update-progress-bar" id="update-progress-bar"></div>
        <span class="update-progress-text" id="update-progress-text">0%</span>
      </div>
      <button class="update-btn" id="update-btn" style="display: none;" data-i18n="ui.restartToUpdate">Redémarrer pour mettre à jour</button>
      <button class="update-dismiss" id="update-dismiss" data-i18n-title="common.close">
        <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
      </button>
    </div>
  </div>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="claude" title="Claude">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.89 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10zM6 10h2v2H6zm0 4h8v2H6zm10 0h2v2h-2zm-6-4h8v2h-8z"/>
          </svg>
          <span>Claude</span>
        </button>
        <div class="nav-separator"><span>Extensions</span></div>
        <button class="nav-tab" data-tab="skills" title="Skills">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
          </svg>
          <span>Skills</span>
        </button>
        <button class="nav-tab" data-tab="agents" title="Agents">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
          </svg>
          <span>Agents</span>
        </button>
        <button class="nav-tab" data-tab="mcp" title="MCP">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/>
          </svg>
          <span>MCP</span>
        </button>
        <button class="nav-tab" data-tab="git" title="Git">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M2.6 10.59L8.38 4.8l1.69 1.7c-.24.85.15 1.78.93 2.23v5.54c-.6.34-1 .99-1 1.73a2 2 0 0 0 2 2 2 2 0 0 0 2-2c0-.74-.4-1.39-1-1.73V9.41l1.35 1.36c-.02.13-.03.26-.03.4a2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.14 0-.27.01-.4.04L13.2 7.07a2 2 0 0 0-1.12-2.51L13.71 2.9 21.41 10.59a2 2 0 0 1 0 2.82L13.41 21.41a2 2 0 0 1-2.82 0L2.59 13.41a2 2 0 0 1 0-2.82z"/>
          </svg>
          <span>Git</span>
        </button>
        <div class="nav-separator"><span>Analytics</span></div>
        <button class="nav-tab" data-tab="dashboard" title="Dashboard">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
          </svg>
          <span>Dashboard</span>
        </button>
        <button class="nav-tab" data-tab="timetracking" title="Time Tracking">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
          </svg>
          <span>Time Tracking</span>
        </button>
        <button class="nav-tab" data-tab="memory" title="Mémoire">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
          </svg>
          <span data-i18n="ui.memory">Mémoire</span>
        </button>
      </nav>
      <div class="sidebar-footer">
        <button class="sidebar-collapse-btn" id="btn-collapse-sidebar" title="Collapse sidebar">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="collapse-icon">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <button class="notification-toggle active" id="btn-notifications" data-i18n-title="ui.notifications">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/>
          </svg>
          <span data-i18n="ui.notifications">Notifications</span>
        </button>
        <button class="settings-btn" id="btn-settings" data-i18n-title="settings.button">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
          </svg>
          <span data-i18n="settings.button">Paramètres</span>
        </button>
        <span class="version" id="app-version"></span>
      </div>
    </div>

    <!-- Content Area -->
    <div class="content">
      <!-- Claude Tab -->
      <div class="tab-content active" id="tab-claude">
        <div class="claude-layout" id="claude-layout">
          <!-- Show projects button (visible when panel is hidden) -->
          <button class="btn-show-projects" id="btn-show-projects" title="Show projects">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
          </button>
          <!-- Projects Panel -->
          <div class="projects-panel">
            <div class="panel-header">
              <h2 data-i18n="projects.title">Projets</h2>
              <div class="panel-actions">
                <button class="btn-icon" id="btn-new-folder" data-i18n-title="projects.newFolder">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"/></svg>
                </button>
                <button class="btn-icon" id="btn-new-project" data-i18n-title="common.new">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                </button>
                <button class="btn-icon" id="btn-toggle-projects" title="Hide projects">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                </button>
              </div>
            </div>
            <div class="projects-list" id="projects-list"></div>
            <div class="panel-resizer" id="projects-panel-resizer"></div>
          </div>

          <!-- File Explorer Panel -->
          <div class="file-explorer-panel" id="file-explorer-panel" style="display: none;">
            <div class="panel-header">
              <h2 data-i18n="fileExplorer.title">Explorer</h2>
              <div class="panel-actions">
                <button class="btn-icon" id="btn-collapse-explorer" title="Collapse all">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zM16.59 5.41L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"/></svg>
                </button>
                <button class="btn-icon" id="btn-refresh-explorer" title="Refresh">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
                <button class="btn-icon" id="btn-close-explorer" title="Close">
                  <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
                </button>
              </div>
            </div>
            <div class="file-explorer-tree" id="file-explorer-tree"></div>
            <div class="panel-resizer" id="file-explorer-resizer"></div>
          </div>

          <!-- Terminals Panel -->
          <div class="terminals-panel">
            <div class="terminals-header">
              <button class="btn-icon btn-toggle-explorer" id="btn-toggle-explorer" title="Toggle Explorer">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>
              </button>
              <div class="terminals-filter" id="terminals-filter" style="display: none;">
                <span class="filter-project" id="filter-project-name"></span>

                <div class="filter-git-actions" id="filter-git-actions" style="display: none;">
                  <div class="filter-git-group">
                    <button class="filter-git-btn" id="filter-btn-pull" data-i18n-title="projects.gitPull" title="Pull">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3v12"/><path d="M17 11l-5 5-5-5"/><path d="M5 21h14"/></svg>
                    </button>
                    <button class="filter-git-btn" id="filter-btn-push" data-i18n-title="projects.gitPush" title="Push">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21V9"/><path d="M7 14l5-5 5 5"/><path d="M5 3h14"/></svg>
                    </button>
                  </div>
                  <button class="filter-git-btn filter-btn-changes" id="filter-btn-changes" data-i18n-title="ui.viewChanges">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
                    <span>Changes</span>
                    <span class="changes-count" id="changes-count" style="display: none;">0</span>
                  </button>
                  <div class="branch-btn-wrapper">
                    <button class="filter-branch-btn" id="filter-btn-branch" data-i18n-title="ui.switchBranch">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" y1="3" x2="6" y2="15"/><circle cx="18" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><path d="M18 9a9 9 0 0 1-9 9"/></svg>
                      <span id="filter-branch-name">main</span>
                      <svg class="branch-arrow" viewBox="0 0 12 12"><path d="M3 5l3 3 3-3" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
                    </button>
                    <!-- Branch Dropdown -->
                    <div class="branch-dropdown" id="branch-dropdown">
                      <div class="branch-dropdown-header">
                        <span data-i18n="ui.switchBranch">Changer de branche</span>
                      </div>
                      <div class="branch-dropdown-list" id="branch-dropdown-list"></div>
                    </div>
                  </div>
                </div>

                <div class="actions-dropdown-wrapper" id="actions-dropdown-wrapper" style="display: none;">
                  <button class="filter-actions-btn" id="filter-btn-actions">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                    <span>Actions</span>
                    <svg class="actions-arrow" viewBox="0 0 12 12"><path d="M3 5l3 3 3-3" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
                  </button>
                  <div class="actions-dropdown" id="actions-dropdown"></div>
                </div>

                <button class="filter-clear" id="btn-show-all" data-i18n-title="ui.showAllTerminals">
                  <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
                </button>
              </div>

              <!-- Git Changes Panel -->
              <div class="git-changes-panel" id="git-changes-panel">
                <div class="git-changes-header">
                  <div class="git-changes-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    <span data-i18n="ui.changes">Changements</span>
                    <span class="git-changes-project" id="git-changes-project"></span>
                  </div>
                  <div class="git-changes-actions">
                    <button class="btn-icon btn-small" id="btn-refresh-changes" data-i18n-title="common.refresh">
                      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                    </button>
                    <button class="btn-icon btn-small" id="btn-close-changes" data-i18n-title="common.close">
                      <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
                    </button>
                  </div>
                </div>
                <div class="git-changes-toolbar">
                  <label class="git-select-all">
                    <input type="checkbox" id="git-select-all">
                    <span data-i18n="ui.selectAll">Tout sélectionner</span>
                  </label>
                  <div class="git-changes-stats" id="git-changes-stats"></div>
                </div>
                <div class="git-changes-list" id="git-changes-list">
                  <div class="git-changes-loading" data-i18n="common.loading">Chargement...</div>
                </div>
                <div class="git-commit-section">
                  <div class="git-commit-header">
                    <span data-i18n="ui.commitMessage">Message de commit</span>
                    <button class="btn-generate" id="btn-generate-commit" data-i18n-title="ui.generateCommitMessage">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2z"/></svg>
                      <span data-i18n="ui.generate">Générer</span>
                    </button>
                  </div>
                  <textarea id="git-commit-message" placeholder="feat: description des changements..." rows="3"></textarea>
                  <div class="git-commit-actions">
                    <button class="btn-secondary" id="btn-stage-selected">
                      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                      <span data-i18n="ui.stage">Stage</span>
                    </button>
                    <button class="btn-primary" id="btn-commit-selected" disabled>
                      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                      <span data-i18n="ui.commit">Commit</span> (<span id="commit-count">0</span>)
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- CI Status Bar -->
            <div class="ci-status-bar" id="ci-status-bar" style="display: none;">
              <div class="ci-status-icon">
                <svg class="ci-spinner" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg>
                <svg class="ci-success" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                <svg class="ci-failure" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </div>
              <div class="ci-status-info">
                <span class="ci-workflow-name" id="ci-workflow-name">Workflow</span>
                <span class="ci-status-text" id="ci-status-text">Running...</span>
              </div>
              <div class="ci-status-meta">
                <span class="ci-branch" id="ci-branch">main</span>
                <span class="ci-duration" id="ci-duration">0:00</span>
              </div>
              <button class="ci-status-link" id="ci-status-link" title="Open in GitHub">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
              </button>
              <button class="ci-status-close" id="ci-status-close" title="Dismiss">
                <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
              </button>
            </div>
            <div class="terminals-tabs" id="terminals-tabs"></div>
            <div class="terminals-container" id="terminals-container">
              <div class="empty-state" id="empty-terminals">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.89 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10z"/>
                </svg>
                <p data-i18n="terminals.selectProject">Sélectionnez un projet et cliquez sur "Claude Code"</p>
                <p class="hint" data-i18n="terminals.terminalOpensHere">Le terminal s'ouvrira ici</p>
              </div>
            </div>

            <!-- Project Detail View -->
            <div class="project-detail-view" id="project-detail-view" style="display: none;">
              <div class="project-detail-header">
                <div class="project-detail-info">
                  <div class="project-detail-icon" id="project-detail-icon"></div>
                  <div class="project-detail-text">
                    <h2 id="project-detail-name"></h2>
                    <span class="project-detail-path" id="project-detail-path"></span>
                  </div>
                </div>
                <button class="btn-close-detail" id="btn-close-detail" data-i18n-title="common.close">
                  <svg viewBox="0 0 12 12"><path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
                </button>
              </div>

              <div class="project-detail-actions" id="project-detail-actions"></div>

              <div class="project-detail-content" id="project-detail-content">
                <!-- FiveM Console will be rendered here for FiveM projects -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Skills Tab -->
      <div class="tab-content" id="tab-skills">
        <div class="list-layout">
          <div class="list-header">
            <h2>Skills</h2>
            <button class="btn-primary" id="btn-new-skill">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
              <span data-i18n="ui.newSkill">Nouveau Skill</span>
            </button>
          </div>
          <div class="list-container" id="skills-list"></div>
        </div>
      </div>

      <!-- Agents Tab -->
      <div class="tab-content" id="tab-agents">
        <div class="list-layout">
          <div class="list-header">
            <h2>Agents</h2>
            <button class="btn-primary" id="btn-new-agent">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
              <span data-i18n="ui.newAgent">Nouvel Agent</span>
            </button>
          </div>
          <div class="list-container" id="agents-list"></div>
        </div>
      </div>

      <!-- Git Tab -->
      <div class="tab-content" id="tab-git">
        <div class="git-tab-layout">
          <div class="git-tab-sidebar">
            <div class="git-sidebar-section git-sidebar-projects">
              <div class="git-sidebar-header">
                <h3 data-i18n="projects.title">Projets</h3>
              </div>
              <div class="git-projects-list" id="git-projects-list"></div>
            </div>
            <div class="git-sidebar-section git-sidebar-quick-actions">
              <div class="git-sidebar-header">
                <h3>Quick Actions</h3>
              </div>
              <div class="git-quick-actions" id="git-quick-actions"></div>
            </div>
            <div class="git-sidebar-section git-sidebar-branches">
              <div class="git-sidebar-header">
                <h3 data-i18n="git.branches">Branches</h3>
                <button class="btn-icon btn-small" id="git-btn-new-branch" title="New branch">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                </button>
              </div>
              <div class="git-branches-list" id="git-branches-list"></div>
            </div>
            <div class="git-sidebar-section git-sidebar-stashes">
              <div class="git-sidebar-header">
                <h3>Stashes</h3>
              </div>
              <div class="git-stashes-list" id="git-stashes-list"></div>
            </div>
          </div>
          <div class="git-tab-main">
            <div class="git-sub-tabs">
              <button class="git-sub-tab active" data-subtab="changes">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                <span data-i18n="ui.changes">Changes</span>
                <span class="git-sub-tab-badge" id="git-changes-badge" style="display:none">0</span>
              </button>
              <button class="git-sub-tab" data-subtab="history">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>
                <span>History</span>
              </button>
              <button class="git-sub-tab" data-subtab="pullrequests">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 3a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 6a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm2 8a1 1 0 0 0-1 1v3a3 3 0 1 0 2 0v-3a1 1 0 0 0-1-1zm-2 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm14-7a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm-2 3a2 2 0 1 1 4 0 2 2 0 0 1-4 0zM6 7a1 1 0 0 0-1 1v5a1 1 0 1 0 2 0V8a1 1 0 0 0-1-1zm12-4a3 3 0 0 0-3 3v8a1 1 0 1 0 2 0V6a1 1 0 1 1 2 0v8a1 1 0 1 0 2 0V6a3 3 0 0 0-3-3z"/></svg>
                <span>Pull Requests</span>
                <span class="git-sub-tab-badge" id="git-pr-badge" style="display:none">0</span>
              </button>
            </div>
            <div class="git-sub-content" id="git-sub-content">
              <div class="git-empty-state">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M2.6 10.59L8.38 4.8l1.69 1.7c-.24.85.15 1.78.93 2.23v5.54c-.6.34-1 .99-1 1.73a2 2 0 0 0 2 2 2 2 0 0 0 2-2c0-.74-.4-1.39-1-1.73V9.41l1.35 1.36c-.02.13-.03.26-.03.4a2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.14 0-.27.01-.4.04L13.2 7.07a2 2 0 0 0-1.12-2.51L13.71 2.9 21.41 10.59a2 2 0 0 1 0 2.82L13.41 21.41a2 2 0 0 1-2.82 0L2.59 13.41a2 2 0 0 1 0-2.82z"/>
                </svg>
                <p data-i18n="gitTab.selectProject">Select a project to view git information</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Dashboard Tab -->
      <div class="tab-content" id="tab-dashboard">
        <div class="dashboard-layout">
          <div class="dashboard-sidebar">
            <div class="dashboard-sidebar-header">
              <h3 data-i18n="projects.title">Projets</h3>
            </div>
            <div class="dashboard-projects-list" id="dashboard-projects-list"></div>
          </div>
          <div class="dashboard-main">
            <div class="dashboard-content" id="dashboard-content">
              <div class="dashboard-empty">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
                <p data-i18n="ui.selectProjectForDashboard">Sélectionnez un projet pour voir son dashboard</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Time Tracking Tab -->
      <div class="tab-content" id="tab-timetracking">
        <div class="timetracking-container" id="timetracking-container">
          <!-- Content will be rendered by JavaScript -->
        </div>
      </div>

      <!-- MCP Tab -->
      <div class="tab-content" id="tab-mcp">
        <div class="mcp-layout">
          <div class="mcp-main">
            <div class="list-header">
              <h2 data-i18n="ui.mcpServers">Serveurs MCP</h2>
            </div>
            <div class="mcp-list" id="mcp-list"></div>
          </div>
        </div>
      </div>

      <!-- Settings Tab -->
      <div class="tab-content" id="tab-settings"></div>

      <!-- Memory Tab -->
      <div class="tab-content" id="tab-memory">
        <div class="memory-layout">
          <div class="memory-sidebar">
            <div class="memory-sidebar-header">
              <h3 data-i18n="ui.sources">Sources</h3>
              <div class="memory-search">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                <input type="text" id="memory-search-input" data-i18n-placeholder="common.search">
              </div>
            </div>
            <div class="memory-sources-list" id="memory-sources-list">
              <div class="memory-source-item active" data-source="global">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                <span data-i18n="ui.globalMemory">Mémoire Globale</span>
              </div>
              <div class="memory-source-item" data-source="settings">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                <span data-i18n="ui.claudeSettings">Settings Claude</span>
              </div>
              <div class="memory-source-item" data-source="commands">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>
                <span data-i18n="ui.commands">Commandes</span>
              </div>
              <div class="memory-source-divider">
                <span data-i18n="projects.title">Projets</span>
              </div>
              <div id="memory-projects-list"></div>
            </div>
          </div>
          <div class="memory-main">
            <div class="memory-header">
              <div class="memory-title">
                <h2 id="memory-title" data-i18n="ui.globalMemory">Mémoire Globale</h2>
                <span class="memory-path" id="memory-path">~/.claude/CLAUDE.md</span>
              </div>
              <div class="memory-stats" id="memory-stats"></div>
              <div class="memory-actions">
                <button class="btn-secondary" id="btn-memory-refresh" data-i18n-title="common.refresh">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
                <button class="btn-secondary" id="btn-memory-open" data-i18n-title="ui.openInExplorer">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                </button>
                <button class="btn-secondary btn-template" id="btn-memory-template" data-i18n-title="ui.insertTemplate" style="display: none;">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                </button>
                <button class="btn-primary" id="btn-memory-edit">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                  <span data-i18n="common.edit">Editer</span>
                </button>
                <button class="btn-primary btn-create" id="btn-memory-create" style="display: none;">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                  <span data-i18n="ui.createClaudeMd">Créer CLAUDE.md</span>
                </button>
              </div>
            </div>
            <div class="memory-content" id="memory-content">
              <div class="memory-loading" data-i18n="common.loading">Chargement...</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Modal -->
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal" id="modal">
      <div class="modal-header">
        <h3 id="modal-title">Titre</h3>
        <button class="btn-icon modal-close" id="modal-close">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </div>
      <div class="modal-body" id="modal-body"></div>
      <div class="modal-footer" id="modal-footer"></div>
    </div>
  </div>

  <!-- Quick Picker Modal -->
  <div class="quick-picker-overlay" id="quick-picker-overlay">
    <div class="quick-picker">
      <div class="quick-picker-search">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        <input type="text" id="quick-picker-input" data-i18n-placeholder="quickPicker.searchProjects" autocomplete="off">
        <span class="quick-picker-shortcut">Ctrl+Shift+P</span>
      </div>
      <div class="quick-picker-list" id="quick-picker-list"></div>
      <div class="quick-picker-footer">
        <span><kbd>↑↓</kbd> <span data-i18n="ui.navigate">Naviguer</span></span>
        <span><kbd>Enter</kbd> <span data-i18n="ui.open">Ouvrir</span></span>
        <span><kbd>Esc</kbd> <span data-i18n="common.close">Fermer</span></span>
      </div>
    </div>
  </div>

  <!-- Context Menu -->
  <div class="context-menu" id="context-menu"></div>

  <!-- Input Modal -->
  <div class="modal-overlay" id="input-modal">
    <div class="modal-content">
      <div class="modal-header" id="input-modal-title">Titre</div>
      <input type="text" class="modal-input" id="input-modal-input" placeholder="">
      <div class="modal-actions">
        <button class="btn-secondary" id="input-modal-cancel" data-i18n="common.cancel">Annuler</button>
        <button class="btn-primary" id="input-modal-confirm" data-i18n="common.confirm">Confirmer</button>
      </div>
    </div>
  </div>

  <!-- Create Skill/Agent Modal -->
  <div class="modal-overlay" id="create-modal">
    <div class="modal create-modal">
      <div class="modal-header">
        <h3 id="create-modal-title" data-i18n="ui.newSkill">Nouveau Skill</h3>
        <button class="btn-icon modal-close" id="create-modal-close" data-i18n-title="common.close">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="create-modal-intro">
          <p data-i18n="ui.describeWhatToCreate">Décrivez ce que vous voulez créer et Claude générera le code pour vous.</p>
        </div>
        <div class="create-modal-field">
          <label for="create-modal-description" data-i18n="ui.description">Description</label>
          <textarea id="create-modal-description" data-i18n-placeholder="ui.skillPlaceholder" rows="4"></textarea>
        </div>
        <div class="create-modal-field">
          <label data-i18n="ui.targetProject">Projet cible</label>
          <select id="create-modal-project">
            <option value="" data-i18n="ui.selectProject">Sélectionnez un projet...</option>
          </select>
          <p class="field-hint" data-i18n="ui.skillAgentHint">Le skill/agent sera créé dans le terminal de ce projet</p>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" id="create-modal-cancel" data-i18n="common.cancel">Annuler</button>
        <button class="btn-primary btn-create-with-claude" id="create-modal-submit">
          <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
          <span data-i18n="ui.createWithClaude">Créer avec Claude</span>
        </button>
      </div>
    </div>
  </div>

  <script src="dist/renderer.bundle.js"></script>
</body>
</html>
